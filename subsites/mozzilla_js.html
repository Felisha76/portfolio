<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Website Proxy Viewer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://fonts.googleapis.com/css?family=Noto Sans' rel='stylesheet'>
   
    <link rel="icon" type="image/png" href="../media/favicon_light.png">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <link rel="stylesheet" href="../main_style.css">

</head>
<body>
  <h1>Website Viewer</h1>
  <input id="urlInput" type="text" value="https://example.com" style="width: 60%;">
  <button onclick="loadSite()">Load</button>

  <iframe id="viewer"></iframe>

  <script>
    function loadSite() {
      const url = document.getElementById('urlInput').value;
      const proxyUrl = `http://localhost:3000/proxy?url=${encodeURIComponent(url)}`;

      fetch(proxyUrl)
        .then(res => res.text())
        .then(html => {
          const iframe = document.getElementById('viewer');
          const doc = iframe.contentDocument || iframe.contentWindow.document;
          doc.open();
          doc.write(html);
          doc.close();
        })
        .catch(err => alert('Error: ' + err));
    }
  </script>
</body>
</html>
